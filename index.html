<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Media Canvas</title>
  <script src="./src/MediaCanvas.js"></script>
	<script src="./src/PresetPasses.js"></script>
</head>

<body>
  <!-- Then manipulate image data and present it here! -->
  <canvas class="render"></canvas>

	<script>

		var MC = new MediaCanvas(document.body.querySelector('.render'));
		MC.setSize(550, 550);
		// var blur = new PresetPasses.blurStackBox(25);
		// MC.addPass('blur', blur);
		// var redden = new PresetPasses.redify(150);
		// MC.addPass('red', redden);
		var laplace = new PresetPasses.LaplaceConvolution();
		MC.addPass('laplace', laplace);
		var bright = new PresetPasses.Brighten(50);
		MC.addPass('bright', bright);

		// function blurKill(){
		// 	MC.removePass('blur');
		// 	MC.render(src);
		// }
		//
		// var img = new Image();
		// var src = img;
		//
		// src.onload = function() {
		// 	MC.render(src);
		//
		// 	// Get dat mega pic!
		// 	src.onload = function() {
		// 		blurKill();
		// 	};
		// 	src.src = './jake.png';
		// }
		//
		// src.src = './jake_tiny.png';



		var video = document.createElement('video');
		video.autoplay = true;
		video.loop = true;

		var src = video;
		src.src = './light-face.webm';

		document.body.appendChild(video);
		video.play();
		video.style.display = 'none';

		MC.setSize(440, 248);

		(function render() {

			window.requestAnimationFrame(render);
			MC.render(src);

		})();

	</script>

</body>
</html>
